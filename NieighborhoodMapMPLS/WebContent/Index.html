
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>D3 World Map</title>
    <style>
      path {
        stroke: black;
        stroke-width: 0.5px;
        fill: none;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="style.css">
   <script src="http://d3js.org/d3.v3.min.js"></script>
  
  </head>
  <body>
  
    <script type="text/javascript">
  var width = 1500;
var height = 1380;
var neigh;
// Create SVG

// Append empty placeholder g element to the SVG
// g will contain geometry elements

//lower x goes to right
//
function loadPage(a){
    window.location.href = "NieighborhoodMapMPLS/neighborhoods/" + a + ".jsp";
}

var albersProjection = d3.geo.albers()
    .center([2.83,-224.95])
    
    .scale( [345000] )
    .translate( [(width/2), (height/2)] );
var geoPath = d3.geo.path()
    .projection( albersProjection );

var svg = d3.select( "body" )
    .append( "svg" )
    .attr( "width", width )
    .attr( "height", height );
    var g = svg.append("g");

d3.csv("neighborhoodmpls.csv", function(data) {
console.log(data.length);
d3.json("mnneigh.json", function(json) {
 
svg.selectAll("path")
  .data(json.features)
  .enter()
  .append("path")
  .attr("d", geoPath);
   g.selectAll("text")
       .data(json.features)
       .enter()
     .append("text")

      .text(function(d){
        console.log(d.properties.name);
        return d.properties.name;
    })
       .attr("x", function(d){
        return geoPath.centroid(d)[0];
    })
    .attr("y", function(d){
        return  geoPath.centroid(d)[1];
    })

    .attr("text-anchor","middle")
    .attr('font-size','10pt')
    .on("click", function(d) {loadPage( this.innerHTML );});
    for (var i = 0; i < data.length; i++) {
       if (data.neighborhood == json.features.name){
         
    };
  
    }
   })

})



//d3.json("https://information.stpaul.gov/resource/xytm-mbqv.json", function(jso) {
  //for (var i = 0; i < jso.features.length; i++) {
    //console.log(jso.features[i]);
  //};
//})


    </script>

  </body>
</html>